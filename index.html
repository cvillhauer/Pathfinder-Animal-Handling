<!DOCTYPE html>
<html>

<head>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="src/animal.css">

    <meta charset="UTF-8" />
    <title>Pathfinder - Animal Handling</title>
</head>

<body>
    <div class="container">
        <div class="data-entry">
            <p>Druid Name:
                <input class="form-control" type="text" data-bind="value: druid().name, valueUpdate: 'afterkeydown'" />
            </p>
            <button type="button" class="btn btn-default" data-bind="click: incrementDruidLevel">Increment Level</button>
            <button type="button" class="btn btn-default" data-bind="click: nextRound">Next Round</button>
        </div>
        <hr />

        <div class="druid">
            <h1 data-bind="text: druid().name"></h1>
            <h2>Level
                <span data-bind="text: druid().level"></span>
            </h2>
            <h3>Wild Shape
                <span data-bind="text: druid().wildShapeTimesPerDay"></span> times per day for up to
                <span data-bind="text: druid().wildShapeDuration"></span> hours each time</h3>
            <h4>Beast Shape
                <span data-bind="text: druid().beastShape"></span>
            </h4>
            <h4>Elemental Body
                <span data-bind="text: druid().elementalBody"></span>
            </h4>
            <h4>Plant Shape
                <span data-bind="text: druid().plantShape"></span>
            </h4>
            <h4>Wild Shape Sizes:</h4>
            <ul data-bind="foreach: druid().wildShapeSizes">
                <li data-bind="text: $data"></li>
            </ul>
            <h4>Wild Shape Types:</h4>
            <ul data-bind="foreach: druid().wildShapeTypes">
                <li data-bind="text: $data"></li>
            </ul>
        </div>
        <hr />

        <div class="summonNaturesAlly">
            <h2>Summon Nature's Ally</h2>
            <div class="container row" style="display: flex; justify-content: space-around;">
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { active: summonNatureLevel() == 1 }, click: function () { selectSummonNaturesAlly(1) }">I</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: druid().level() < 3, active: summonNatureLevel() == 2 }, click: function () { selectSummonNaturesAlly(2) }">II</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: druid().level() < 5, active: summonNatureLevel() == 3 }, click: function () { selectSummonNaturesAlly(3) }">III</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: druid().level() < 7, active: summonNatureLevel() == 4 }, click: function () { selectSummonNaturesAlly(4) }">IV</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: druid().level() < 9, active: summonNatureLevel() == 5 }, click: function () { selectSummonNaturesAlly(5) }">V</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: druid().level() < 11, active: summonNatureLevel() == 6 }, click: function () { selectSummonNaturesAlly(6) }">VI</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: druid().level() < 13, active: summonNatureLevel() == 7 }, click: function () { selectSummonNaturesAlly(7) }">VII</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: druid().level() < 15, active: summonNatureLevel() == 8 }, click: function () { selectSummonNaturesAlly(8) }">VII</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: druid().level() < 17, active: summonNatureLevel() == 9 }, click: function () { selectSummonNaturesAlly(9) }">XI</button>
            </div>
            <h4>Cast Summon Nature's Ally for Animal Level:</h4>
            <div class="container row" style="display: flex; justify-content: space-around;">
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { active: summonAnimalLevel() == 1 }, click: function () { selectSummonAnimalLevel(1) }">1st</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: summonNatureLevel() < 2, active: summonAnimalLevel() == 2 }, click: function () { selectSummonAnimalLevel(2) }">2nd</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: summonNatureLevel() < 3, active: summonAnimalLevel() == 3 }, click: function () { selectSummonAnimalLevel(3) }">3rd</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: summonNatureLevel() < 4, active: summonAnimalLevel() == 4 }, click: function () { selectSummonAnimalLevel(4) }">4th</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: summonNatureLevel() < 5, active: summonAnimalLevel() == 5 }, click: function () { selectSummonAnimalLevel(5) }">5th</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: summonNatureLevel() < 6, active: summonAnimalLevel() == 6 }, click: function () { selectSummonAnimalLevel(6) }">6th</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: summonNatureLevel() < 7, active: summonAnimalLevel() == 7 }, click: function () { selectSummonAnimalLevel(7) }">7th</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: summonNatureLevel() < 8, active: summonAnimalLevel() == 8 }, click: function () { selectSummonAnimalLevel(8) }">8th</button>
                <button type="button" class="btn btn-default col-xs-1" data-bind="css: { disabled: summonNatureLevel() < 9, active: summonAnimalLevel() == 9 }, click: function () { selectSummonAnimalLevel(9) }">9th</button>
            </div>
            <p data-bind="visible: summonAnimalLevel() == 1">Summon Nature's Ally I Animal Type:
                <select class="form-control" data-bind="options: animalSummoner.summonNaturesAlly1Choices, value: animalSummoner.addedAnimalType1, optionsCaption: ''"></select>
            </p>
            <p data-bind="visible: summonAnimalLevel() == 2">Summon Nature's Ally II Animal Type:
                <select class="form-control" data-bind="options: animalSummoner.summonNaturesAlly2Choices, value: animalSummoner.addedAnimalType2, optionsCaption: ''"></select>
            </p>
            <p>Animal Name:
                <input class="form-control" type="text" data-bind="value: addedAnimalName, valueUpdate: 'afterkeydown'" />
            </p>
            <button type="button" class="btn btn-default" data-bind="click: summonNaturesAlly">Summon Nature's Ally</button>
        </div>
        <hr />

        <div class="row" data-bind="foreach: pets()">
            <div class="container animal">
                <div class="row">
                    <div class="col-xs-7">
                        <div class="row">
                            <div class="col-xs-6">
                                <h1 data-bind="visible: !editName(), text: name, click: $parent.editAnimalName.bind($parent)"></h1>
                                <input class="form-control" data-bind="visible: editName, value: name, hasFocus: editName" />
                            </div>
                            <div class="col-xs-6">
                                <h2>
                                    <a target="_blank" data-bind="attr: { href: link }">
                                        <span data-bind="text: description"></span>
                                    </a>
                                </h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-4">
                                Rounds Left:
                                <input class="form-control" type="number" data-bind="value: roundsLeft, valueUpdate: 'afterkeydown'" />
                            </div>
                            <div class="col-xs-4">
                                Hit Points:
                                <input class="form-control" type="number" data-bind="value: hitpoints, valueUpdate: 'afterkeydown'" />
                            </div>
                            <div class="col-xs-4">
                                <button type="button" class="btn btn-default button-holder" data-bind="click: $parent.deleteAnimal.bind($parent)">Delete</button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-12">
                                Status:
                                <input class="form-control" type="text" data-bind="value: status, valueUpdate: 'afterkeydown'" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">
                                <h3>Armor Class:
                                    <strong data-bind="text: armorclass"></strong>
                                </h3>
                                <h3>Attack:
                                    <span data-bind="foreach: attack">
                                        <br />
                                        <strong data-bind="text: $data"></strong>
                                    </span>
                                </h3>
                            </div>
                            <div class="col-xs-6">
                                <h4>
                                    <span data-bind="text: size"></span>
                                    <span data-bind="text: type"></span>
                                </h4>
                                <h4>Speed:
                                    <span data-bind="text: speed"></span> feet
                                </h4>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-4">
                                Abilities:
                                <ul data-bind="foreach: abilities">
                                    <li data-bind="text: $data"></li>
                                </ul>
                            </div>
                            <div class="col-xs-4">
                                Skills:
                                <ul data-bind="foreach: skills">
                                    <li data-bind="text: $data"></li>
                                </ul>
                            </div>
                            <div class="col-xs-2" style="text-align: right;">
                                Str:
                                <span data-bind="text: str"></span>
                                <br />Dex:
                                <span data-bind="text: dex"></span>
                                <br />Con:
                                <span data-bind="text: con"></span>
                                <br />Int:
                                <span data-bind="text: int"></span>
                                <br />Wis:
                                <span data-bind="text: wis"></span>
                                <br />Cha:
                                <span data-bind="text: cha"></span>
                                <br />
                            </div>
                            <div class="col-xs-2" style="text-align: right;">
                                Fortitude:
                                <span data-bind="text: fort"></span>
                                <br />Reflex:
                                <span data-bind="text: ref"></span>
                                <br />Will:
                                <span data-bind="text: will"></span>
                                <br />
                                <br />CMB:
                                <span data-bind="text: cmb"></span>
                                <br />CMD:
                                <span data-bind="text: cmd"></span>
                                <br />
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-5">
                        <img class="col-xs-12" data-bind="attr: {src: image}" />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./externals/require.js"></script>
    <script src="./built/require-config.js"></script>
    <script>
        require(["built/viewmodel"]);
    </script>
</body>

</html>